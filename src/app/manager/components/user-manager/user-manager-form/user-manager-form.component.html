<form class="modal fade" id="modalForm" tabindex="-1" aria-labelledby="modalEditarLabel" aria-hidden="true" [formGroup]="signUpForm" (ngSubmit)="signUp()">
  <app-loader [loading] = "loading"></app-loader>

  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <label class="text-weight">Nuevo Registro</label>
        <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
        
      </div>
      <div class="modal-body">
        
        <div class="form-modal" [formGroup]="signUpForm" (ngSubmit)="signUp()">

          <div class="panel panel-col-p50">
            
            <div class="input-group">
              <label class="form-label" for="apellidos">Apellidos:</label>
              <input class="form-control" id="apellidos" type="text" placeholder="Ingrese apellidos" maxlength="50" [formControl]="apellido" [ngClass]="{ 'is-invalid': apellido.errors && isValidForm != null && !isValidForm}">
              <div *ngIf="apellido.errors">
                <div *ngIf="apellido.errors && isValidForm != null && !isValidForm">
                  <small class="text-color-red" *ngIf="apellido?.hasError('required')">Apellido es requerido</small>
                </div>
              </div>
            </div>
            <div class="input-group">
              <label class="form-label" for="nombres">Nombres:</label>
              <input class="form-control" id="nombres" type="text" placeholder="Ingrese nombres" maxlength="50" [formControl]="nombre" [ngClass]="{ 'is-invalid': nombre.errors && isValidForm != null && !isValidForm}">
              <div *ngIf="nombre.errors">
                <div *ngIf="nombre.errors && isValidForm != null && !isValidForm">
                  <small class="text-color-red" *ngIf="nombre?.hasError('required')">Nombre es requerido</small>
                </div>
              </div>
            </div>
            <div class="input-group">
              <label class="form-label" for="celular">Celular:</label>
              <input class="form-control" id="celular" type="text" placeholder="Ingrese celular" maxlength="15" [formControl]="celular" [ngClass]="{ 'is-invalid': celular.errors && isValidForm != null && !isValidForm}">
              <div *ngIf="celular.errors">
                <div *ngIf="celular.errors && isValidForm != null && !isValidForm">
                  <small class="text-color-red" *ngIf="celular?.hasError('required')">Celular es requerido</small>
                </div>
              </div>
            </div>
          </div>
  
          <div class="panel panel-col-p50">
            <div class="input-group">
              <label class="form-label" for="correo">Correo:</label>
              <input class="form-control" id="correo" type="text" placeholder="Ingrese correo" maxlength="100" [formControl]="correo" [ngClass]="{ 'is-invalid': (correo.errors && isValidForm != null && !isValidForm) || !isValidFormEmail}">
              <div *ngIf="correo.errors || !isValidFormEmail">
                <div *ngIf="correo.errors && isValidForm != null && !isValidForm">
                  <small class="text-color-red" *ngIf="correo?.hasError('required')">Correo es requerido</small>
                  <small class="text-color-red" *ngIf="correo?.hasError('pattern')">Correo no es válido</small>
                </div>
                <div *ngIf="!isValidFormEmail">
                  <small class="text-color-red">Correo ya está registrado</small>
                </div>
              </div>
            </div>
            <div class="input-group">
              <label class="form-label" for="usuario">Usuario:</label>
              <input class="form-control" id="usuario" type="text" placeholder="Ingrese usuario" maxlength="50" [formControl]="usuario" [ngClass]="{ 'is-invalid': (usuario.errors && isValidForm != null && !isValidForm) || !isValidFormUser}">
              <div *ngIf="usuario.errors || !isValidFormUser">
                <div *ngIf="usuario.errors && isValidForm != null && !isValidForm">
                  <small class="text-color-red" *ngIf="usuario?.hasError('required')">Usuario es requerido</small>
                </div>
                <div *ngIf="!isValidFormUser">
                  <small class="text-color-red">Usuario ya está registrado</small>
                </div>
              </div>
            </div>
            <div class="input-group">
              <label class="form-label" for="password">Contraseña:</label>
              <input class="form-control" id="password" type="password" placeholder="Ingrese contraseña" maxlength="30" [formControl]="password" [ngClass]="{ 'is-invalid': password.errors && isValidForm != null && !isValidForm}">
              <div *ngIf="password.errors">
                <div *ngIf="password.errors && isValidForm != null && !isValidForm">
                  <small class="text-color-red" *ngIf="password?.hasError('required')">Contraseña es requerido</small>
                  <small class="text-color-red" *ngIf="password?.hasError('pattern')">La contraseña debe tener al menos 8 caracteres, mayúsculas, signos, minúsculas y números</small>
                </div>
              </div>
            </div>
    
            <div class="input-group">
              <label class="form-label" for="password">Confirme contraseña:</label>
              <input class="form-control" id="password" type="password" placeholder="Confirme contraseña" maxlength="30" [formControl]="password2" [ngClass]="{ 'is-invalid': password2.errors && isValidForm != null && !isValidForm}">
              <div *ngIf="password2.errors">
                <div *ngIf="password2.errors && isValidForm != null && !isValidForm">
                  <small class="text-color-red" *ngIf="password2?.hasError('isValid')">{{ messaguePassword }}</small>
                </div>
              </div>
            </div>
          </div>

        </div>
        
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary btn-sm" type="submit"><i class="fas fa-save"></i> Guardar</button>
      </div>
    </div>
  </div>
</form>